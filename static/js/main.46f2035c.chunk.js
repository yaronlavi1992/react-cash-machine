(this["webpackJsonpcash-machine"]=this["webpackJsonpcash-machine"]||[]).push([[0],{204:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(45),o=r.n(n),u=r(6),d=r(13),i=r(207),l=r(47),p=[{productId:"1",productName:"tomato",productPrice:14},{productId:"2",productName:"cucumber",productPrice:7},{productId:"3",productName:"onion",productPrice:9},{productId:"4",productName:"carrot",productPrice:11}],s=Object(u.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return e;case"CREATE_PRODUCT":return[].concat(Object(l.a)(e),[t.payload]);default:return e}},filteredProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_PRODUCTS":return t.payload.filter((function(e){return-1!==e.productName.indexOf(t.input)}));default:return e}},purchases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":return[].concat(Object(l.a)(e),[t.payload]);default:return e}},input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return t.payload;default:return e}},selectedProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PRODUCT":return t.payload.products.filter((function(e){return e.productId===t.payload.selectedId}));default:return e}},form:i.a}),m=r(8),h=r(9),v=r(11),f=r(10),E=r(21),b=r(7),P=r(206),N=r(205),y=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(m.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).renderError=function(e){var t=e.error;if(e.touched&&t)return c.a.createElement("div",{className:"ui error message"},c.a.createElement("div",{className:"header"},t))},e.renderInput=function(t){var r=t.input,a=t.label,n=t.meta,o="field ".concat(n.error&&n.touched?"error":"");return c.a.createElement("div",{className:o},c.a.createElement("label",null,a),c.a.createElement("input",r),e.renderError(n))},e.onSubmit=function(t){e.props.createProduct(t),t.productName="",t.productPrice=""},e}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui three column centered grid"},c.a.createElement("div",{className:"ui three column"},c.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},c.a.createElement(P.a,{name:"productName",component:this.renderInput,label:"Product Name"}),c.a.createElement(P.a,{name:"productPrice",component:this.renderInput,label:"Product Price"}),c.a.createElement("div",{className:"ui three column centered grid"},c.a.createElement("div",{className:"column"},c.a.createElement("button",{className:"ui button primary"},"Submit"))))))}}]),r}(c.a.Component);y=Object(d.b)(null,{createProduct:function(e){var t=e.productName,r=e.productPrice;return{type:"CREATE_PRODUCT",payload:{productId:Math.ceil(100*Math.random()),productName:t,productPrice:r}}}})(y);var O=Object(N.a)({form:"productCreate",validate:function(e){var t={};return e.productName||(t.productName="You must enter a product name"),e.productPrice||(t.productPrice="You must enter a product price"),t}})(y),g=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",null,"ProductDelete")}}]),r}(c.a.Component),C=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",null,"ProductEdit")}}]),r}(c.a.Component),j=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(m.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).renderList=function(){return e.props.products.map((function(e){var t=e.productName,r=e.productId,a=e.productPrice;return c.a.createElement("div",{className:"item",key:r},c.a.createElement("div",{className:"content"},c.a.createElement("h1",{className:"header"},t),c.a.createElement("div",{className:"description"},c.a.createElement("p",null,"id: ".concat(r," price: ").concat(a)))))}))},e}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui relaxed divided list"},this.renderList())}}]),r}(c.a.Component),I=Object(d.b)((function(e){return{products:e.products}}),{})(j),T=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",null,"ProductShow")}}]),r}(c.a.Component),w=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(m.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).renderList=function(){var t=e.props.purchases.map((function(e){return e.productPrice*e.productQuantity}));return t=t.reduce((function(e,t){return e+t}),0),[e.props.purchases.map((function(e){var t=e.productId,r=e.productName,a=e.productPrice,n=e.productQuantity;return c.a.createElement("div",{className:"item",key:t},c.a.createElement("div",{className:"content"},c.a.createElement("h1",{className:"header"},r),c.a.createElement("div",{className:"description"},c.a.createElement("p",null,"Quantity: ".concat(n," Price: ").concat(a)))))})),c.a.createElement("div",null,c.a.createElement("h2",null,"Total price: ".concat(t)))]},e}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui three column centered grid",style:{paddingTop:"10px"}},c.a.createElement("div",{className:"ui relaxed divided list"},this.props.purchases.length>0?this.renderList():"Nothing to show",c.a.createElement("div",null,c.a.createElement(E.b,{to:"/products/add"},c.a.createElement("button",{className:"ui button green"},"Add Products")))))}}]),r}(c.a.Component),S=Object(d.b)((function(e){return{purchases:e.purchases}}),{})(w),_=function(){return c.a.createElement("div",{className:"ui menu"},c.a.createElement(E.b,{to:"/"},c.a.createElement("div",{className:"header item"},"Home")),c.a.createElement(E.b,{className:"item",to:"/products/list"},"All Products"),c.a.createElement(E.b,{className:"item",to:"/products/new"},"New Product"))},D=r(70),k=r.n(D),x=r(96),R=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(m.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).itemsPrice=0,e.componentDidMount=function(){e.props.filterProducts(e.props.products,""),e.props.selectProduct(e.props.products,null)},e.onInputChange=function(t){e.props.inputChange(t.target.value),e.props.filterProducts(e.props.products,t.target.value)},e.onPriceChange=function(){console.log(e.props.form.productCreate.values),e.props.form.productCreate.values.length>0&&(console.log("here?"),e.props.change("productCalculatedPrice",e.props.productCreate.values.productPrice*Number(e.props.productCreate.values.productQuantity)))},e.renderList=function(){return e.props.filteredProducts.map((function(t){var r=t.productName,a=t.productId,n=t.productPrice;return c.a.createElement("div",{className:"item",key:a,onClick:function(){return e.onProductSelect(a)},style:{cursor:"pointer",backgroundColor:e.props.selectedProduct.length>0&&e.props.selectedProduct[0].productId===a?"green":""}},c.a.createElement("div",{className:"content"},c.a.createElement("h1",{className:"header"},r),c.a.createElement("div",{className:"description"},c.a.createElement("p",null,"id: ".concat(a," price: ").concat(n)))))}))},e.renderError=function(e){var t=e.error;if(e.touched&&t)return c.a.createElement("div",{className:"ui error message"},c.a.createElement("div",{className:"header"},t))},e.renderInput=function(t){var r=t.input,a=t.label,n=t.meta,o="field ".concat(n.error&&n.touched?"error":"");return c.a.createElement("div",{className:o},c.a.createElement("label",null,a),c.a.createElement("input",r),e.renderError(n))},e.onProductSelect=function(){var t=Object(x.a)(k.a.mark((function t(r){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.selectProduct(e.props.products,r);case 2:e.props.selectedProduct.length>0&&(e.props.change("productName",e.props.selectedProduct[0].productName),e.props.change("productPrice",e.props.selectedProduct[0].productPrice));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(t){e.props.addProduct(t),e.props.reset(),e.props.history.push("/")},e}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui centered grid"},c.a.createElement("div",{className:"ui row"},c.a.createElement("div",{className:"five wide column"},c.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},c.a.createElement(P.a,{name:"productName",component:this.renderInput,label:"Product Name",onChange:this.onInputChange}),c.a.createElement(P.a,{name:"productPrice",component:this.renderInput,label:"Product Price",onChange:this.onPriceChange}),c.a.createElement(P.a,{name:"productQuantity",component:this.renderInput,label:"Product Quantity",onChange:this.onPriceChange}),c.a.createElement(P.a,{name:"productCalculatedPrice",component:this.renderInput,label:"Calculated Price",input:{disabled:!0}}),c.a.createElement("div",{className:"ui three column centered grid"},c.a.createElement("div",{className:"column"},c.a.createElement("button",{className:"ui button primary"},"Submit"))))),c.a.createElement("div",{className:"eleven wide column"},c.a.createElement("h1",{className:"ui header centered"},"Products"),c.a.createElement("div",{className:"ui inverted segment"},c.a.createElement("div",{className:"ui divided inverted relaxed list"},this.renderList())))))}}]),r}(c.a.Component);R=Object(b.e)(R),R=Object(d.b)((function(e){return{filteredProducts:e.filteredProducts,products:e.products,selectedProduct:e.selectedProduct,form:e.form}}),{getProducts:function(){return{type:"GET_PRODUCTS"}},filterProducts:function(e,t){return{type:"FILTER_PRODUCTS",payload:e,input:t}},inputChange:function(e){return{type:"INPUT_CHANGE",payload:e}},selectProduct:function(e,t){return{type:"SELECT_PRODUCT",payload:{products:e,selectedId:t}}},addProduct:function(e){var t=e.productName,r=e.productPrice,a=e.productQuantity;return{type:"ADD_PRODUCT",payload:{productId:Math.ceil(100*Math.random()),productName:t,productPrice:r,productQuantity:a}}}})(R);var U=Object(N.a)({form:"productCreate",validate:function(e){var t={};return e.productName||(t.productName="You must enter a product name"),e.productPrice||(t.productPrice="You must enter a product price"),t}})(R),A=function(e){Object(v.a)(r,e);var t=Object(f.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui container",style:{marginTop:"10px"}},c.a.createElement(E.a,{basename:"/react-cash-machine"},c.a.createElement(_,null),c.a.createElement(b.a,{path:"/",exact:!0,component:S}),c.a.createElement(b.a,{path:"/products/add",exact:!0,component:U}),c.a.createElement(b.a,{path:"/products/new",exact:!0,component:O}),c.a.createElement(b.a,{path:"/products/list",exact:!0,component:I}),c.a.createElement(b.a,{path:"/products/delete",exact:!0,component:g}),c.a.createElement(b.a,{path:"/products/edit",exact:!0,component:C}),c.a.createElement(b.a,{path:"/products/show",exact:!0,component:T})))}}]),r}(c.a.Component),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,Q=Object(u.e)(s,L(Object(u.a)()));o.a.render(c.a.createElement(d.a,{store:Q},c.a.createElement(A,null)),document.querySelector("#root"))},97:function(e,t,r){e.exports=r(204)}},[[97,1,2]]]);
//# sourceMappingURL=main.46f2035c.chunk.js.map